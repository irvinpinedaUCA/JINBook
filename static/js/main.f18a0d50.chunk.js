(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],[,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE6SURBVEiJtdS9SgNRFATgL2KMiqXa2Rg0EH9qH8JaKy39fSELX0AQREFEK0vrgI2CooJEu3SKojZ3YU3WzcbdDAxcdufMnHPusvSG5cC+YB3fgWtFm1fwFAt4xnCRATsx84jbRZmXcZ8Q8IihIgI2E8wjbuQ1L+MuJeBBlylKsXMF05jFTOAilro0cYUGbgNvQlPvkWAV1/hM6bRXfgbPlRJeMNmly//idQDnfTIXeY/iQnHriXiJsSipguMCzc8w0j7OEI4KMD+V8hsp4zCH+UnYRioG0fqHeSvUdsV4jgkm2s0GEgIWsnTxB+ayBMznCOioTQro6KIHdNQmXcpfE7xhL5y3JH+Kmdbb9PviPrCPqZhmKjz7aNM2swQ0gvgLB6ilaGtB8xVqGlkCqthFPYs4oB5qqu0vfgB2qb3ITfMgKAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEqSURBVEiJtdW/SkMxFAbwn7VQOik4FAcnd0d9A8FFfA91chBfQhBx1NHRSVHr5Fhw0tVBEME6uYrQOiSXdtA099b7QTiBnHwfyfnHCE0c4BXDEuteJs5KEhfrHTN/kRYHq+jF/SFu4uUcPKE/yWknEj5nkmajEW0r2s+6BKpiCxt1CSziAlfYrkPgA10hUY5TIrAnBPmhpEgLl/HuALv/LTBRpJlJsoC5xPk+lrCCoyh0Mu6QesEavpWr7gHWmT5NUxiS90U9dDCf8GnjXPiioRCHu3GHaYLcjmTJTKoqkEVeVaBh1HUHaii0TiROkufWwW/oY1NI4ds6BAgVnERRB1/RplKxEooXFONyWRiZ1/JH5qPQWSfiVLWh/yYx9McxKzStl5IC3RTpD/FqhYRb2FnYAAAAAElFTkSuQmCC"},,function(e,t,a){e.exports=a.p+"static/media/programmer.49c53331.png"},,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAhQAAAIUB4uz/wQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHHSURBVEiJrda7blNBEAbgzzZyLJGEFhI7BbxBChR4BeQgHoIyz0AXQhoqKocUdLRIoacmIJEOIYS4COVigTCpcBwodi025Nh7LPxLI0uzM//sXM6OK8ZjCau4hatYjPov+IAdPMOnDM85NLGFE/xO5ChKquujE31KYRW96HyI+1jBTGIzgxvYSAL20M6Rr2EQZR1zJS40HwMN/dbG3XyAn2VuUoDbOI4c5/ybQoqFhxMGGUSuxfRgS6jjeoag4WwvirAZuTpDxZIwLYfyNd/FXsbmktD4PlpVIa0aHgv1H4draGVsfmAbFyK350JKKxlH+B4lh5uRcwfe4VS+tpMEaETOt4SydEcY7eJbIqdRUt0rzBb4d9GrxlRGoV7itgOhoUX6GiGNaZeoHoN+rOI9Klgu4VgWy8IUvakKU0QcqSnhTvx9QfjQ+sKHNp9xfI2XGZs5HETOK0NlR2j2RsZ5Vr5X9yLXdqpMH7v/LdUjfMXCvwftGOB4CkFqow7ShbMpPFw5XMRdE6zMtr8r8wgPhLelkdjUcV143g+i7cOyAQjLoiNMQrrgu9jHr0R3gie4XERUyQRqOfu3pYlqzGxPmPOn+DyK4A8B34eAOsGDdwAAAABJRU5ErkJggg=="},,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFoSURBVEiJ7dU9T1RBFMbx35pLIiRmod3QWUiCjRuU0gqJiZ01LaGgo9UvQstH0AJNLEg0gqi9IImaIBVZKMDXZC3mINfrC3N3l84nmZybydznf87cM3cYrKawjfe4OWBv19HBC6zhaJCQE/Mu7mI4IO+KWNDAOIYyDT/ge8n8Md7gACuYC8gXuIq3Qc8d9yqZr6OJi1iNNR1MFViW9uvOCfEMdbGBdpjt4DYOAzIaz7N4CV+xmLczP9XGfhiMxVwzKjnAjWpGC+dlXhdQ27wOoCfzXMDfzJ+H+TQu4T6K6stnARrYlTqnWcm8I7Uq6dR2caX88m+0P+gyWph32oqrmJBacbOUSDmCCxmAdsQ96aw8CvMZqap/KqeCaxFfRfyIW04z7xvwUCr7dUB2cozrAJ7F6Ek536Av/QdkAT5Lt0+/Gon4qTxZ4AmWpGN+3KP5kPS72ZKu01/UwoMwr3Ntlsc3PMVk1fwH6m91oyyRmlUAAAAASUVORK5CYII="},function(e,t,a){e.exports=a(41)},,,,,function(e,t,a){},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHkSURBVEiJrZa/SqNBFMV/dxWzgsSkMOUqLlik2tJuK5/AYtnKwsbKygew2ofYQrTaShAEKy2EfQYbYdHKoMVG2SUJBI/FdyeZTL7P/NEDA7lz75wz594MCZIoWkAdOAOeASXr2XP11zjMiXJhZsfAV2Af6CbpWd+/lLRZxDGbEC4D1WhrA/gF/C44fwx8N7Mv0d5fSbe9yB3MAxcMt2HadQHMS+o5+EbWim3gqsjumKgDP53zMAh0gRlgjWx4b8Gac2Uz8xaVgCPer0VHQEkS8VdywZNbwMcp15ZzLATeD8GXpH9AC6hIaktqA+t+kxCvACtRXALWo7gCtJwLoC/geACWovgA2I3iH74Cdr0mYMk5ehh4B56sRfF/Bt9FeqGq1wTUUoFRDh4TgRRVrwkYcpAnEDtokvW1CBWvCZjKwSiBiRzc83YH968JPACLZjbn8dgO/MwiY7QI+m1qMnrIwUE4M5HAI1A2s7QO3yvTn8FEAmEOTcCcKEXZc83kzMQtgvw5VJKaXAcDL1nSk5l1otv8Ae6Atsc3UXkbaHhNcNCR9FQoEN2g5oLXZvZZUstze9FlGma2GuWGHlmRwDmwY2YNoANgZgMFceyfS8AOcDLElvNXZRk4JftFGvcHputnPqV8LxOUMHrMWKltAAAAAElFTkSuQmCC"},function(e,t,a){},,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=(a(26),a(2)),s=a.n(o),i=a(4),u=a(3),m=a(1),d="https://posts-pw2021.herokuapp.com/api/v1",p={};p.login=function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/auth/signin"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:t,password:a})});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p.verifyToken=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/auth/whoami"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var f=p,g=r.a.createContext(),h=function(e){var t=Object(n.useState)(void 0),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(void 0),m=Object(u.a)(o,2),d=m[0],p=m[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=E())){e.next=8;break}return e.next=4,f.verifyToken(t);case 4:a=e.sent,n=a.username,r=a.role,n&&r&&(p({username:n,role:r}),h(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]);var h=function(e){localStorage.setItem("token",e),c(e)},x=Object(n.useCallback)((function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(){var n,r,l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=!1,a.prev=1,a.next=4,f.login(e,t);case 4:r=a.sent,(l=r.token)&&(h(l),n=!0),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.error(a.t0),console.error("Error in login");case 13:return a.prev=13,a.abrupt("return",n);case 16:case"end":return a.stop()}}),a,null,[[1,9,13,16]])})));return function(){return a.apply(this,arguments)}}()()}),[]),A=Object(n.useCallback)((function(){p(void 0),h(void 0)}),[]),b=Object(n.useMemo)((function(){return{token:l,user:d,login:x,logout:A}}),[l,d,x,A]);return r.a.createElement(g.Provider,Object.assign({value:b},e))},x=function(){var e=r.a.useContext(g);if(!e)throw new Error("useUserContext() must be inside of UserProvider");return e},E=function(){return localStorage.getItem("token")};function A(){var e=x(),t=e.login,a=e.token,l=Object(n.useState)(""),c=Object(u.a)(l,2),o=c[0],d=c[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),g=f[0],h=f[1],E=Object(n.useState)(!1),A=Object(u.a)(E,2),b=A[0],v=A[1],w=function(e,t){t(e.target.value)},y=function(){var e=Object(i.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t(o,g);case 3:n=e.sent,v(!n),d(""),h("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?(console.log("todo ok"),r.a.createElement(m.a,{replace:!0,to:"/redirect"})):r.a.createElement("section",{className:"flex flex-col md:flex-row h-screen items-center"},r.a.createElement("div",{className:"bg-indigo-600 hidden lg:block w-full md:w-1/2 xl:w-2/3 h-screen"},r.a.createElement("img",{src:"https://source.unsplash.com/random",alt:"",className:"w-full h-full object-cover"})),r.a.createElement("div",{className:"bg-white w-full md:max-w-md lg:max-w-full  md:w-1/2 xl:w-1/3 h-screen px-6 lg:px-16 xl:px-12\r flex items-center justify-center"},r.a.createElement("div",{className:"w-full h-100"},r.a.createElement("h1",{className:"text-xl md:text-2xl font-bold leading-tight mt-12"},"Iniciar secci\xf3n"),r.a.createElement("form",{onSubmit:y,className:"mt-6",action:"#",method:"POST"},r.a.createElement("div",null,b&&r.a.createElement("p",{className:"w-full rounded p-3 text-center text-red-500 font-roboto  border-2 border-red-500 select-none"},"Usuario o contrase\xf1a incorrecta"),r.a.createElement("label",{className:"block text-black"},"Nombre de usuario"),r.a.createElement("input",{className:"font-medium w-full text-black focus:outline-none focus:ring focus:ring-green-500 p-2 rounded",type:"text",value:o,placeholder:"Usuario",onChange:function(e){return w(e,d)}})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("label",{className:"block text-black"},"Contrase\xf1a"),r.a.createElement("input",{className:"font-medium w-full text-black focus:outline-none focus:ring focus:ring-green-500 p-2 rounded",type:"password",placeholder:"******************",onChange:function(e){return w(e,h)},value:g})),r.a.createElement("button",{className:"mt-6 w-full py-2 px-2 transition rounded border border-green-500 duration-300 text-xl text-bold uppercase bg-green-500 hover:bg-green-400  text-gray-100"},"Iniciar sesion ")),r.a.createElement("hr",{className:"my-6 border-gray-300 w-full"}))))}var b=a(13),v=a(12),w=a.n(v),y=a(10),N=a.n(y),k=a(15),j=a.n(k),C=(a(28),a(29),a(20)),O=a.n(C),B=function(e){var t=e.updatePost,a=e.tittle,n=e.description,l=e.img,c=function(e){e.preventDefault(),t(e.target.title.value,e.target.description.value,e.target.image.value),e.target.title.value?e.target.title.value="":e.target.title.value=a,e.target.description.value?e.target.description.value="":e.target.description.value=n,e.target.image.value?e.target.image.value="":e.target.image.value=l};return r.a.createElement("details",{className:"px-1",ontoggle:c},r.a.createElement("summary",{className:"flex"}," ",r.a.createElement("img",{className:"",src:O.a,alt:""})),r.a.createElement("h1",{className:"font-bold text-2xl text-center"},"Editar"),r.a.createElement("form",{class:"bg-white shadow-md rounded px-8  pt-4 pb-8 mb-4",onSubmit:c,method:"PUT"},r.a.createElement("div",{class:"mb-4 w-full"},r.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"Titulo"),r.a.createElement("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:a,name:"title",minlength:"8",maxlength:"32"})),r.a.createElement("div",{class:"mb-4"},r.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"Descripci\xf3n"),r.a.createElement("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:n,name:"description",minlength:"8",maxlength:"64"})),r.a.createElement("div",{class:"mb-4"},r.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"URL de la imagen"),r.a.createElement("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"url",placeholder:l,name:"image"})),r.a.createElement("div",{class:"flex items-center justify-between"},r.a.createElement("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onChange:c},"Editar post"),r.a.createElement("button",{class:" font-bold  rounded",onChange:c},"Default Data"))))},S=a(7),U=a.n(S),R=function(e){var t=e.id,a=e.active,l=e.tittle,c=e.description,o=e.img,m=e.tokenSession,d=e.getAdminData,p=Object(n.useState)([]),f=Object(u.a)(p,2),g=f[0],h=f[1],x=function(){var e=Object(i.a)(s.a.mark((function e(a,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/update/".concat(t),{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(m)},body:JSON.stringify({title:a,description:n,image:r})}).then((function(e){return 200!==e.status?void 0:(U.a.fire({icon:"success",title:"Good job!",text:"\xa1El post fue actualizado con \xe9xito!"}),e.json())})).then((function(e){h((function(t){return[].concat(Object(b.a)(t),[null===e||void 0===e?void 0:e.data])})),console.log("Pueda de actualizar",g)})).catch((function(e){console.log(e)}));case 2:d();case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/toggle/".concat(t),{method:"PATCH",headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){200===e.status&&console.log("Actualizando ".concat(a,", con id ").concat(t))})).catch((function(e){console.log(e)}));case 2:d();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{class:"w-72  mx-2 relative bg-white rounded-lg py-2 shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-105cursor-pointer"},r.a.createElement("div",{class:"flex items-center mb-2 space-x-4"},r.a.createElement("div",{className:"ml-7"},r.a.createElement("h1",{class:"mb-1 h-8 text-md font-bold text-gray-700 overflow-auto"}," ",l),r.a.createElement("div",{className:"h-16 overflow-auto"},r.a.createElement("p",{class:"text-sm font-normal h-16 text-gray-600  hover:underline"},"# ",c)))),r.a.createElement("div",{className:"h-48 overflow-hidden"},r.a.createElement("img",{className:"w-full",src:o,alt:""})),r.a.createElement("div",{class:"flex justify-between px-10 py-6"},r.a.createElement("div",{class:"flex"},r.a.createElement("span",{className:" transition duration-500 transform hover:scale-150 cursor-pointer"}),r.a.createElement("p",{className:"pr-24"})),r.a.createElement("spam",{className:"flex"},r.a.createElement("label",{class:"switch"},r.a.createElement("input",{type:"checkbox",checked:a,onClick:E}),r.a.createElement("span",{class:"slider round"})))),r.a.createElement("div",null),r.a.createElement(B,{updatePost:x,tittle:l,description:c,img:o}))},M=a(9),I=a.n(M),P=function(e){var t=e.tittle,a=e.description,n=e.img,l=e.likes,c=e.group,o=e.comments,s=e.date.substring(0,10),i=o.map((function(e){return r.a.createElement("li",{className:"pl-4 py-2"},r.a.createElement("p",{className:"text-sm text-left pr-4   text-gray-500"})," ",r.a.createElement("strong",null,"Comentario:")," ",e.description," ")}));return r.a.createElement("div",{class:"w-72  mx-2 relative bg-white rounded-lg py-2 shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-105 cursor-pointer"},r.a.createElement("div",{class:"flex items-center mb-2 space-x-4"},r.a.createElement("div",{className:"mx-5"},r.a.createElement("h1",{class:"h-12 text-md overflow-auto font-bold text-gray-700"}," ",t),r.a.createElement("div",{className:"h-20 w-64 overflow-auto"},r.a.createElement("p",{class:"text-sm font-normal h-16 text-gray-600  hover:underline"},a)))),r.a.createElement("div",{className:"h-48 overflow-hidden"},r.a.createElement("img",{className:"w-full",src:n,alt:""})),r.a.createElement("div",{class:"flex justify-between px-10 py-6"}),r.a.createElement("h2",{class:"mb-1 h-4 text-sm text-right pr-4  text-gray-500"}," By: ",c),r.a.createElement("div",null,r.a.createElement("details",null,r.a.createElement("summary",{className:"flex ml-4"}," ",r.a.createElement("span",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r.a.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"}))),r.a.createElement("p",null,o.length),r.a.createElement("div",{className:"flex"},r.a.createElement("span",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",viewBox:"0 0 20 20",fill:"currentColor"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"}))),r.a.createElement("p",{className:"pr-24"},l))),r.a.createElement("div",{className:"w-full h-64 overflow-auto bg-gray-200"},r.a.createElement("ul",{className:"w-full pt-4 text-sm"},i)))),r.a.createElement("p",{className:"pl-4 mt-4 text-sm font-bold text-gray-400"},"Publicado: ",s))},z=function(e){var t=e.onAdd,a=function(e){e.preventDefault(),t(e.target.title.value,e.target.description.value,e.target.image.value),e.target.title.value="",e.target.description.value="",e.target.image.value=""};return r.a.createElement("div",null,r.a.createElement("form",{class:"bg-white shadow-md rounded px-8 mt-8 pt-6 pb-8 mb-4",onSubmit:a,method:"POST"},r.a.createElement("div",{class:"mb-4 w-full"},r.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"Titulo"),r.a.createElement("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Titulo",name:"title",minlength:"8",maxlength:"32"})),r.a.createElement("div",{class:"mb-4"},r.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"Descripci\xf3n"),r.a.createElement("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Descripcion",name:"description",minlength:"8",maxlength:"64"})),r.a.createElement("div",{class:"mb-4"},r.a.createElement("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"URL de la imagen"),r.a.createElement("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"url",placeholder:"URL de la imagen",name:"image"})),r.a.createElement("div",{class:"flex items-center justify-between"},r.a.createElement("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onSubmit:a},"Agregar post"))))},H=function(e){var t=e.onClick;return r.a.createElement("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:function(){return t()}},"Next")},T=function(e){var t=e.onClick;return r.a.createElement("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:function(){return t()}},"Back")};function L(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(u.a)(c,2),d=o[0],p=o[1],f=Object(m.g)(),g=x().logout,h=Object(n.useState)(0),E=Object(u.a)(h,2),A=E[0],v=E[1],y=Object(n.useState)(0),k=Object(u.a)(y,2),C=k[0],O=k[1],B=localStorage.getItem("token"),S=Object(n.useState)(0),M=Object(u.a)(S,2),I=M[0],L=M[1],V=function(){g(),f("/login")},F=function(e,t){"admin"===t?"back"===e?v(A>0?A-1:0):"next"===e&&v(A+1):"user"===t&&("back"===e?O(C>0?C-1:0):"next"===e&&O(C+1))},Q=function(){L(1)},Y=Object(n.useState)([]),K=Object(u.a)(Y,2),G=K[0],D=K[1],J=function(){var e=Object(i.a)(s.a.mark((function e(t,a,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/create",{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(B)},body:JSON.stringify({title:t,description:a,image:n})}).then((function(e){return 201!==e.status?void 0:e.json()})).then((function(e){D((function(t){return[].concat(Object(b.a)(t),[null===e||void 0===e?void 0:e.data])})),U.a.fire({icon:"success",title:"Good job!",text:"\xa1El post fue agregado con \xe9xito!"}),Q(),console.log(G)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){fetch("https://posts-pw2021.herokuapp.com/api/v1/post/owned?limit=3&page=".concat(A),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(B)}}).then((function(e){return e.json()})).then((function(e){console.log("this is the data",e.data),p(e.data)})).catch((function(e){return console.log(e)})),L(0)}),[A,I]),Object(n.useEffect)((function(){fetch("https://posts-pw2021.herokuapp.com/api/v1/post/all?limit=12&page=".concat(C),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(B)}}).then((function(e){return e.json()})).then((function(e){console.log("this is the data",e.data),l(e.data)})).catch((function(e){return console.log(e)})),L(0)}),[C,I]),r.a.createElement("div",{className:"flex flex-row h-full"},r.a.createElement("nav",{className:"bg-gray-100 border-2 border-gray-300 w-20  justify-between flex flex-col invisible  md:visible "},r.a.createElement("div",{className:"mt-10 mb-10"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:w.a,className:"rounded-full w-10 h-10 mb-3 mx-auto"})),r.a.createElement("div",{className:"mt-10"},r.a.createElement("ul",null,r.a.createElement("li",{className:"mb-6"},r.a.createElement("a",{href:"#formPost"},"  ",r.a.createElement("spam",null,r.a.createElement("img",{className:"fill-current h-5 w-5 text-gray-300 mx-auto hover:text-green-500",src:j.a,alt:""})))),r.a.createElement("li",{onClick:V},r.a.createElement("spam",null,r.a.createElement("img",{className:"fill-current h-5 w-5 text-gray-300 mx-auto hover:text-green-500",src:N.a,alt:""})))))),r.a.createElement("div",{className:"mb-4"})),r.a.createElement("div",{className:"md:px-16 py-4 text-gray-700 bg-gray-200  w-screen"},r.a.createElement("div",{clasName:"flex justify-center visible md:invisible"},r.a.createElement("div",{className:"w-full mb-8 visible md:invisible",onClick:V},r.a.createElement("spam",null,r.a.createElement("img",{className:"fill-current h-5 w-5 text-gray-300 mx-auto hover:text-green-500",src:N.a,alt:""}))),r.a.createElement("div",{className:"mb-6 visible md:invisible"},r.a.createElement("a",{href:"#formPost"},"  ",r.a.createElement("spam",null,r.a.createElement("img",{className:"fill-current h-5 w-5 text-gray-300 mx-auto hover:text-green-500",src:j.a,alt:""}))))),r.a.createElement("div",{id:"misPost",class:"md:p-8 flex flex-wrap justify-center gap-4 bg-gray-300  "},r.a.createElement("h1",{className:" text-2xl md:text-6xl font-bold mb-8"},"Mis post"),r.a.createElement("div",{className:"w-full flex justify-center  items-center gap-16  flex-wrap"},d.map((function(e){return r.a.createElement(R,{id:e._id,active:e.active,tittle:e.title,description:e.description,img:e.image,tokenSession:B,getAdminData:function(){Q()}})})))),r.a.createElement("div",{className:"mt-4 w-full"},r.a.createElement("a",{href:"#misPost"},"  ",r.a.createElement("div",{className:"w-full px-16 flex justify-between"},r.a.createElement(T,{onClick:function(){F("back","admin")}}),r.a.createElement(H,{onClick:function(){F("next","admin")}})))),r.a.createElement("div",{id:"todoPost",class:"md:p-8 mt-8 flex flex-wrap justify-center gap-4 "},r.a.createElement("h1",{className:"text-2xl md:text-4xl font-bold"},"Todos los post"),r.a.createElement("div",{className:"w-full flex justify-center  items-center gap-16  flex-wrap"},a.map((function(e){return r.a.createElement(P,{tittle:e.title,description:e.description,img:e.image,likes:e.likes.length,group:e.user.username,comments:e.comments,date:e.createdAt})})))),r.a.createElement("a",{href:"#todoPost"},"  ",r.a.createElement("div",{className:"w-full  flex justify-between px-16 mb-16 mt-8"},r.a.createElement(T,{onClick:function(){F("back","user")}}),r.a.createElement(H,{onClick:function(){F("next","user")}}))),r.a.createElement("div",{className:" w-full"},r.a.createElement("h1",{id:"formPost",className:"text-center text-3xl md:text-4xl font-bold"},"Agregar post"),r.a.createElement(z,{onAdd:J}))))}var V=function(e){var t=e.id,a=e.tittle,n=e.description,l=e.img,c=e.likes,o=e.group,u=e.tokenSession,m=e.getUserData,d=e.getFavoriteData,p=e.comments,f=e.date.substring(0,10),g=function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/like/".concat(t),{method:"PATCH",headers:{Authorization:"Bearer ".concat(u)}}).then((function(e){200===e.status&&console.log("Actualizando ".concat(a,", con id ").concat(t))})).catch((function(e){console.log(e)}));case 2:m(),(n=document.getElementById("".concat(t))).classList.contains("text-red-500")?(n.classList.remove("text-red-500"),n.classList.add("text-gray-500")):(n.classList.remove("text-gray-500"),n.classList.add("text-red-500"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/fav/".concat(t),{method:"PATCH",headers:{Authorization:"Bearer ".concat(u)}}).then((function(e){200===e.status&&console.log("Editando favorito ".concat(a,", con id ").concat(t))})).catch((function(e){console.log(e)}));case 2:d();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=p.map((function(e){return r.a.createElement("li",{className:"pl-4 py-2"},r.a.createElement("p",{className:"text-sm text-left pr-4   text-gray-500"})," ",r.a.createElement("strong",null,"Comentario:")," ",e.description," ")})),E=function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=document.getElementById("".concat(t,"A")).value).length<9)){e.next=6;break}return U.a.fire({icon:"error",title:"Oops...",text:"El comentario debe tener por lo menos 8 caracteres"}),e.abrupt("return");case 6:return e.next=8,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/comment/".concat(t),{method:"PATCH",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify({description:n})}).then((function(e){200===e&&console.log("comment added to ".concat(t))})).catch((function(e){console.log(e)}));case 8:U.a.fire({icon:"success",title:"Good job!",text:'El comentario fue agregado con exito al post "'.concat(a,'"!')}),document.getElementById("".concat(t,"A")).value="";case 10:m();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"w-72  mx-2 relative bg-white rounded-lg py-2 shadow-lg hover:shadow-2xl transition duration-500 transform hover:scale-105 cursor-pointer"},r.a.createElement("div",{className:"flex items-center mb-2 space-x-4"},r.a.createElement("div",{className:"mx-5"},r.a.createElement("h1",{className:" h-12 text-md font-bold text-gray-700"}," ",a),r.a.createElement("div",{className:"h-20 w-64 overflow-auto"},r.a.createElement("p",{class:"text-sm font-normal  h-16 text-gray-600 "},n," ")))),r.a.createElement("div",{className:"h-48 overflow-hidden"},r.a.createElement("img",{className:"w-full",src:l,alt:""})),r.a.createElement("div",{className:"flex justify-between px-10 py-6"},r.a.createElement("div",{className:"flex"},r.a.createElement("span",{onClick:g},r.a.createElement("svg",{id:t,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"}))),r.a.createElement("p",{className:"pr-24"},c)),r.a.createElement("span",{className:"flex"},p.length,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r.a.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"}))),r.a.createElement("spam",{onClick:h},r.a.createElement("img",{className:"fill-current h-5 w-5 text-gray-300 mx-auto hover:text-green-500",src:I.a}))),r.a.createElement("h2",{class:"mb-1 h-4 text-sm text-right pr-4  text-gray-500"}," By: ",o),r.a.createElement("div",null,r.a.createElement("details",null,r.a.createElement("summary",{className:"flex ml-4 text-gray-500 mb-2"}," Ver Comentaios"),r.a.createElement("div",{className:"w-full h-64 overflow-auto bg-gray-200"},r.a.createElement("ul",{className:"w-full pt-4 text-sm"},x))),r.a.createElement("div",{class:" flex"},r.a.createElement("input",{id:"".concat(t,"A"),className:" w-full text-sm font-thin  px-5 py-2 mb-2 bg-gray-50 outline-none rounded-full border-1",type:"text",placeholder:"Enter your comment"}),r.a.createElement("span",{onClick:E,className:"text-sm text-gray-500 bg-gray-50 p-2 rounded-full px-2 py-2 transition duration-100 hover:text-blue-400 cursor-pointer"},"Send")),r.a.createElement("p",{className:"pl-4 text-sm font-bold text-gray-400"},"Publicado: ",f)))};function F(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),o=Object(u.a)(c,2),d=o[0],p=o[1],f=Object(n.useState)(0),g=Object(u.a)(f,2),h=g[0],E=g[1],A=Object(n.useState)([]),b=Object(u.a)(A,2),v=b[0],y=b[1],k=Object(n.useState)([]),j=Object(u.a)(k,2),C=j[0],O=j[1],B=Object(n.useState)(0),S=Object(u.a)(B,2),U=S[0],R=S[1],M=Object(m.g)(),P=x().logout,z=function(){P(),M("/login")},L=localStorage.getItem("token"),F=function(e,t){"user"===t&&("back"===e?p(d>0?d-1:0):"next"===e&&p(d+1))},Q=function(){E(1)},Y=function(){R(1)};return Object(n.useEffect)((function(){fetch("https://posts-pw2021.herokuapp.com/api/v1/post/all?limit=9&page=".concat(d),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(L)}}).then((function(e){return e.json()})).then((function(e){console.log("this is the data",e.data),l(e.data)})).catch((function(e){return console.log(e)})),E(0)}),[d,h]),Object(n.useEffect)(Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/fav",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(L)}}).then((function(e){return e.json()})).then((function(e){console.log("id Favoritos",e.favorites),O(e.favorites)})).catch((function(e){return console.log(e)}));case 2:return t=C.map(function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/one/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(L)}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(t);case 5:a=e.sent,n=a.filter((function(e){return e._id})),y(n),R(0),E(0);case 10:case"end":return e.stop()}}),e)}))),[U,h]),r.a.createElement("div",{className:"flex flex-row h-full"},r.a.createElement("nav",{className:"bg-gray-100 border-2 border-gray-300 w-20  justify-between flex flex-col invisible  md:visible "},r.a.createElement("div",{className:"mt-10 mb-10"},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:w.a,className:"rounded-full w-10 h-10 mb-3 mx-auto"})),r.a.createElement("div",{className:"mt-10"},r.a.createElement("ul",null,r.a.createElement("li",{className:"mb-6"},r.a.createElement("a",{href:"#favoritesPost"},r.a.createElement("spam",{onClick:Y},r.a.createElement("img",{className:"fill-current h-5 w-5 text-gray-300 mx-auto hover:text-green-500",src:I.a,alt:""})))),r.a.createElement("li",{onClick:z},r.a.createElement("spam",null,r.a.createElement("img",{className:"fill-current h-5 w-5 text-gray-300 mx-auto hover:text-green-500",src:N.a,alt:""})))))),r.a.createElement("div",{className:"mb-4"})),r.a.createElement("div",{className:"md:px-16 py-4 text-gray-700 bg-gray-200  w-screen"},r.a.createElement("div",{clasName:"flex justify-center "},r.a.createElement("div",{className:"w-full mb-8 visible md:invisible",onClick:z},r.a.createElement("spam",null,r.a.createElement("img",{className:"fill-current h-5 w-5 text-gray-300 mx-auto hover:text-green-500",src:N.a,alt:""}))),r.a.createElement("div",{className:"mb-6 w-full visible md:invisible"},r.a.createElement("a",{href:"#favoritesPost"},r.a.createElement("spam",{onClick:Y},r.a.createElement("img",{className:"fill-current h-5 w-5 text-gray-300 mx-auto hover:text-green-500",src:I.a,alt:""}))))),r.a.createElement("div",{id:"welcomeid",class:"p-8 flex flex-wrap justify-center gap-4 "},r.a.createElement("div",{className:"text-xl mb-8 underline font-bold md:text-4xl"},"Welcome to JINBook"),r.a.createElement("div",{className:"w-full flex justify-center  items-center gap-16  flex-wrap"},a.map((function(e){return r.a.createElement(V,{id:e._id,tittle:e.title,description:e.description,img:e.image,likes:e.likes.length,group:e.user.username,tokenSession:L,getUserData:function(){Q()},getFavoriteData:function(){Y()},comments:e.comments,date:e.createdAt})})))),r.a.createElement("div",{className:" w-full"},r.a.createElement("a",{href:"#welcomeid"},r.a.createElement("div",{className:"w-full px-16 flex justify-between"},r.a.createElement(T,{onClick:function(){F("back","user")}}),r.a.createElement(H,{onClick:function(){F("next","user")}})))),r.a.createElement("div",{className:"p-8 my-8 flex flex-wrap justify-center gap-8 "},r.a.createElement("h1",{className:"text-xl md:text-4xl font-bold"},"Post Favoritos"),r.a.createElement("div",{id:"favoritesPost",className:"w-full flex justify-center  items-center gap-16  flex-wrap"},v.map((function(e){return r.a.createElement(V,{id:e._id,tittle:e.title,description:e.description,img:e.image,likes:e.likes.length,group:e.user.username,tokenSession:L,getUserData:function(){Q()},getFavoriteData:function(){Y()},comments:e.comments,date:e.createdAt})}))))))}var Q={admin:"/admin",user:"/user"},Y=function(){var e,t=x().user;return t?r.a.createElement(m.a,{replace:!0,to:null!==(e=Q[t.role])&&void 0!==e?e:"/"}):r.a.createElement("p",null," No se puede redireccionar ")},K=function(e){var t=e.role,a=void 0===t?"user":t,n=e.children,l=x(),c=l.token,o=l.user;return c?o&&o.role===a?n:r.a.createElement(m.a,{replace:!0,to:"/404"}):r.a.createElement(m.a,{replace:!0,to:"/login"})},G=a(6);a(40);var D=function(){return r.a.createElement(G.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"*",element:r.a.createElement(A,null)}),r.a.createElement(m.b,{path:"/redirect",element:r.a.createElement(Y,null)}),r.a.createElement(m.b,{path:"/admin",element:r.a.createElement(K,{role:"admin"},r.a.createElement(L,null))}),r.a.createElement(m.b,{path:"/user",element:r.a.createElement(K,{role:"user"}," ",r.a.createElement(F,null)," ")})))},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,42)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null,r.a.createElement(D,null))),document.getElementById("root")),J()}],[[21,1,2]]]);
//# sourceMappingURL=main.f18a0d50.chunk.js.map